{"version":3,"sources":["webpack:///webpack/bootstrap 389cdac0e24586a9734b","webpack:///./js/index.js","webpack:///./js/helpers.js"],"names":["canvas","document","getElementById","context","getContext","addEventListener","keyPush","tick","speed","scorePerPoint","gameLoop","posX","posY","velX","velY","tailLen","tail","fruitX","fruitY","score","scoreString","scoreMultiplier","paused","gameOver","highscore","parseInt","localStorage","highscoreString","leftPad","gameOverScreen","newGameButton","pauseGameButton","onclick","newGame","togglePauseGame","currentScoreLabel","highscoreLabel","finalScoreLabel","newHighscoreLabel","innerText","update","clearRect","width","height","checkIfInCanvas","checkSnakeCollision","unshift","x","y","splice","i","length","fillRect","checkFruitCollision","console","log","clearInterval","setInterval","style","display","newFruit","endGame","showEndGameScreen","setItem","addPoints","toString","Math","floor","random","event","keyCode","string","char","result"],"mappings":"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","file":"./build/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 389cdac0e24586a9734b","import {leftPad} from './helpers';\n\nconst canvas = document.getElementById('game');\nconst context = canvas.getContext('2d');\ndocument.addEventListener('keydown', keyPush);\n\n// SETTINGS\nconst tick = 10;\nconst speed = 10;\nconst scorePerPoint = 1;\n\n// GLOBAL VARIABLES\nlet gameLoop;\nlet posX;\nlet posY;\nlet velX;\nlet velY;\nlet tailLen = 20;\nlet tail = [];\nlet fruitX;\nlet fruitY;\nlet score;\nlet scoreString = '000000';\nlet scoreMultiplier;\nlet paused = true;\nlet gameOver;\nlet highscore = parseInt(localStorage.highscore) || 0;\nlet highscoreString = leftPad(localStorage.highscore || scoreString, 6, '0');\n\n// SCREENS DEFINITION\nconst gameOverScreen = document.getElementById('game-over-screen');\n\n// CONTROLS DEFINITION\nconst newGameButton = document.getElementById('new-game-button');\nconst pauseGameButton = document.getElementById('pause-game-button')\n\n// CONTROLS ACTIONS\nnewGameButton.onclick = newGame;\npauseGameButton.onclick = togglePauseGame;\n\n// SCORE LABELS DEFINITION\nconst currentScoreLabel = document.getElementById('current-score');\nconst highscoreLabel = document.getElementById('current-highscore');\nconst finalScoreLabel = document.getElementById('final-score');\nconst newHighscoreLabel = document.getElementById('new-highscore-label');\n\n// INIT SCORE LABELS\ncurrentScoreLabel.innerText = scoreString;\nhighscoreLabel.innerText = highscoreString;\n\nfunction update() {\n  context.clearRect(0, 0, canvas.width, canvas.height);\n  posX += velX * tick;\n  posY += velY * tick;\n  checkIfInCanvas()\n  checkSnakeCollision();\n  tail.unshift({x: posX, y: posY});\n  tail.splice(tailLen);\n  for (var i = 0; i < tail.length; i++) {\n    context.fillRect(tail[i].x, tail[i].y, tick, tick);\n  }\n  context.fillRect(fruitX, fruitY, 10, 10);\n  checkFruitCollision();\n}\n\nfunction newGame() {\n  console.log('#### NEW GAME ####');\n  // I know there are better ways to do it\n  clearInterval(gameLoop);\n  gameLoop = setInterval(() => {\n    if (!paused && !gameOver) {\n      update();\n    }\n  }, 1000 / speed);\n\n  gameOverScreen.style.display = 'none';\n  newHighscoreLabel.style.display = 'none';\n  posX = 0;\n  posY = 0;\n  velX = 1;\n  velY = 0;\n  score = 0;\n  scoreMultiplier = 0;\n  tailLen = 20;\n  tail = [];\n  gameOver = false;\n  newFruit();\n  if (paused) {\n    togglePauseGame();\n  }\n}\n\nfunction togglePauseGame() {\n  if (!gameOver) {\n    console.log('#### GAME PAUSED ####', !paused);\n    paused = !paused;\n    if (paused) {\n      pauseGameButton.innerText = 'Unpause Game';\n    } else {\n      pauseGameButton.innerText = 'Pause Game';\n    }\n  }\n}\n\nfunction endGame() {\n  showEndGameScreen();\n  gameOver = true;  \n}\n\nfunction showEndGameScreen() {\n  paused = true;\n  finalScoreLabel.innerText = scoreString;\n  gameOverScreen.style.display = 'block';\n  if (score > highscore) {\n    newHighscoreLabel.style.display = 'block';\n    localStorage.setItem('highscore', score)\n  }\n}\n\nfunction checkIfInCanvas() {\n  if (posX >= canvas.width) {\n    posX = 0;\n  } else if (posX < 0) {\n    posX = canvas.width;\n  }\n  if (posY >= canvas.height) {\n    posY = 0;\n  } else if (posY < 0) {\n    posY = canvas.height;\n  }\n}\n\nfunction checkSnakeCollision() {\n  for (var i = 1; i < tail.length; i++) {\n    if (posX >= tail[i].x && posX < tail[i].x + tick && posY >= tail[i].y && posY < tail[i].y + tick) {\n      console.log('#### SNAKE COLISION OCCURED ####');\n      endGame();\n    }\n  }\n}\n\nfunction checkFruitCollision() {\n  if (posX >= fruitX && posX < fruitX + tick && posY >= fruitY && posY < fruitY + tick) {\n    console.log('#### FRUIT COLISION OCCURED ####');\n    tailLen++;\n    addPoints();\n    newFruit();\n  }\n}\n\nfunction addPoints() {\n  score += scorePerPoint;\n  scoreString = leftPad(score.toString(), 6, '0');\n  currentScoreLabel.innerText = scoreString;\n  if (score > highscore) {\n    highscoreLabel.innerText = scoreString;\n  }\n\n}\n\nfunction newFruit() {\n  console.log('#### NEW FRUIT ####');\n  fruitX = Math.floor(Math.random() * canvas.width / tick) * tick;\n  fruitY = Math.floor(Math.random() * canvas.height / tick) * tick;\n}\n\nfunction keyPush(event) {\n  console.log(event.keyCode);\n  switch (event.keyCode) {\n    case 37:\n      if (velX === 0) {\n        velX = -1;\n        velY = 0;\n      }\n      break;\n    case 38:\n      if (velY === 0) {\n        velX = 0;\n        velY = -1;\n      }\n      break;\n    case 39:\n      if (velX === 0) {\n        velX = 1;\n        velY = 0;\n      }\n      break;\n    case 40:\n      if (velY === 0) {\n        velX = 0;\n        velY = 1;\n      }\n      break;\n    case 78: // N - for new game\n      newGame();\n      break;\n    case 80: // P - for pause\n      togglePauseGame();\n      break;\n\n    default:\n      break;\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./js/index.js","export function leftPad(string, length, char) {\n  let result = string;\n  for (let i = 0; i < (length - string.length); i++) {\n    result = char + '' + result;\n  }\n  return result;\n}\n\n\n// WEBPACK FOOTER //\n// ./js/helpers.js"],"sourceRoot":""}